<script setup>
import { onMounted, nextTick, onUnmounted } from 'vue';
import { gsap } from 'gsap';
import { Power4, Back, Elastic } from 'gsap/gsap-core';
import { MotionPathPlugin } from 'gsap/MotionPathPlugin';
import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin';
import { ScrambleTextPlugin } from 'gsap/ScrambleTextPlugin';

gsap.registerPlugin(MotionPathPlugin, DrawSVGPlugin);
gsap.registerPlugin(ScrambleTextPlugin);

let blurbs = [
  "Experto en desarrollo web Backend y Frontend.",
  "Soluciones tecnológicas innovadoras y escalables.",
  "Enfoque en aprendizaje continuo y excelencia.",
],
curIndex = 0;
let intervalId = null;

const particlesLoaded = container => {};

// Función para cambiar el texto automáticamente
function changeTextAutomatically() {
  curIndex = (curIndex + 1) % blurbs.length;
  gsap.to(".text-container", {
    scrambleText: {
      text: blurbs[curIndex],
      chars: "upperAndLowerCase",
      revealDelay: 0.2,
      tweenLength: false
    },
    ease: "power2.inOut",
    overwrite: "auto",
    duration: 4.2
  });
}

onMounted(() => {
  nextTick(() => {
    // Configuración inicial para el texto
    gsap.set(".text-container", { autoAlpha: 1 });
    
    // Iniciar el cambio automático cada 5 segundos
    intervalId = setInterval(changeTextAutomatically, 6500);

    // Ensure the DOM is fully rendered before initializing GSAP
    gsap.set(".boop", { drawSVG: "0% 0.75%", autoAlpha: 1, immediateRender: true });
    gsap.set(".boop2", { drawSVG: "99.1% 100%", autoAlpha: 1, immediateRender: true });

    gsap.set(".ball", {
      xPercent: -50,
      yPercent: -50,
      transformOrigin: "50%, 50%",
    });

    function restart() {
      timeline.play(0);
    }

    const startBall = 0.01;
    const endBall = 0.989;

    var timeline = gsap.timeline();
    timeline
      .to(".boop", {
        duration: 1,
        ease: Power4.easeOut,
        drawSVG: "0% 0.1%",
      })
      .to(
        ".boop",
        {
          duration: 0.6,
          ease: Back.easeOut.config(8),
          drawSVG: "0% 0.75%",
        },
        "+=0.2"
      )
      .to(
        ".ball",
        {
          duration: 15,
          ease: "power1.inOut",
          immediateRender: true,
          ease: Elastic.easeOut.config(1, 1.2),
          motionPath: {
            path: document.querySelector(".loop"),
            align: document.querySelector(".loop"),
            start: startBall,
            end: endBall,
          },
        },
        1.3
      )
      .to(
        ".boop2",
        {
          duration: 1,
          ease: Power4.easeOut,
          drawSVG: "99.9% 100%",
        },
        6.4
      )
      .to(
        ".boop2",
        {
          duration: 0.6,
          ease: Back.easeOut.config(8),
          drawSVG: "99.1% 100%",
          delay: 0.16,
        },
        7.1
      )
      .to(
        ".ball",
        {
          duration: 15,
          ease: Elastic.easeOut.config(1, 1.2),
          motionPath: {
            path: document.querySelector(".loop"),
            align: document.querySelector(".loop"),
            start: endBall,
            end: startBall,
          },
        },
        7.3
      )
      .add(restart, 12.2);
  });
});

// Limpiar el intervalo cuando el componente se desmonta
onUnmounted(() => {
  if (intervalId) {
    clearInterval(intervalId);
  }
});
</script>

<template>
  <div>
    <vue-particles id="tsparticles" @particles-loaded="particlesLoaded" url="/particles.json" />
    <main class="min-h-screen flex flex-col justify-center items-center pt-16 bg-white">
      <div class="svg-container flex justify-center items-center w-full">
      <svg viewBox="0 0 90.75 27.665" xmlns="http://www.w3.org/2000/svg" class="flex mx-10 z-10">
          <path class="loop" d="M 2.6205854,4.4847661 C 7.7273559,4.3918411 12.131664,5.080816 14.14033,5.4892624 c 2.275071,0.4626177 4.235886,0.2300601 4.468473,0.04635 0.851338,-0.6724307 -3.46125,-1.901661 -5.193034,0.1681242 -1.449791,1.7327544 -0.381085,4.1359419 1.03433,4.7350364 1.606256,0.679869 3.248243,0.01454 2.705575,-0.7540731 -0.259378,-0.3673735 -1.235772,-0.7465778 -2.880931,-0.4009664 -1.97456,0.4148154 -3.856752,2.7559555 -3.891468,4.9328185 -0.03979,2.494815 1.905776,4.043345 4.270506,3.553772 2.090343,-0.432766 3.717159,-1.954066 4.330623,-2.763227 1.375413,-1.814173 3.340059,-3.240673 4.326092,-3.599265 1.100245,-0.400127 1.542853,-0.211949 1.307942,-0.23444 -0.986376,-0.09444 -2.298566,0.60492 -3.228566,1.52492 -0.93,0.915 -1.433872,2.791696 -1.433872,2.791696 0,0 -0.455,1.85 0.357,2.435 0.814,0.58 1.851513,-0.747897 1.851513,-0.747897 0,0 0.694101,-0.804847 1.373103,-1.969847 C 30.910647,4.0473 28.537233,4.3688719 28.537233,4.3688719 27.559808,4.4757845 26.562385,7.066379 25.445171,10.061382 c -0.61492,1.648463 -1.216816,3.610607 -1.450995,4.540314 -0.102984,0.35572 -0.392254,1.291127 -0.217254,2.596127 0.175,1.305 0.975078,1.127177 0.975078,1.127177 0,0 0.716127,0.118545 2.776127,-4.061455 2.059,-4.18 4.152873,-3.408545 4.152873,-3.408545 0,0 0.755657,0.202582 0.643567,1.218579 -0.193772,0.564354 -0.255147,0.831479 -0.175673,0.528217 l 0.197544,-0.696456 c 0,0 0.02802,-0.914213 -0.747441,-1.07534 -0.635332,-0.172548 -1.867297,0.210821 -3.041168,1.74941 -0.152742,0.200198 -0.3045,0.419954 -0.453832,0.66059 C 26.808959,15.326839 26,18 27,18 c 1,0 2,-1 2,-1 0.496,-0.38 3,-4 3,-4 l -3.904694,8.936128 c -0.782971,1.577956 -1.210142,2.199368 -2.135963,2.252279 -1.673884,-0.234357 -0.663975,-2.274718 0.23128,-3.111323 1.854782,-1.733273 0.86463,-0.605768 3.681633,-3.476283 0.77116,-0.77116 2.717055,-3.456699 5.197035,-5.604662 0.735929,-0.637403 1.081929,-0.867798 1.483606,-1.060011 2.339251,-1.1193955 2.019687,1.368559 2.019687,1.368559 0,0 0.0837,-0.36287 -0.166967,-1.01877 -0.08349,-0.218473 -0.305764,-0.767725 -0.913199,-0.618522 -0.802043,0.197005 -2.199202,1.628896 -2.199202,1.628896 0,0 -0.837923,0.891282 -1.441216,2.198709 -0.493064,1.068545 -0.797648,2.051776 -0.730648,2.561776 0.063,0.51 0.292645,0.943452 0.773552,1.058384 1.155398,0.276128 2.375007,-1.651295 2.375007,-1.651295 0,0 2.00789,-3.38806 2.175801,-3.731769 0.157685,-0.322778 -0.565321,0.97984 -1.09,2.312904 -0.700328,1.540648 -0.621652,2.323463 -0.266787,2.730156 0.523649,0.600129 1.301805,0.491727 1.93434,-0.395023 0.511778,-0.717461 1.17583,-1.514995 2.235069,-4.51977 0.601871,-1.707345 0.357034,-2.56429 -0.504247,-2.062081 -1.69519,0.988456 1.540576,1.787434 2.953079,1.355872 2.145824,-0.655612 -0.64868,4.497823 -0.64868,4.497823 -0.946501,1.795559 2.009349,0.920941 3.955417,-0.220264 1.033984,-0.606345 1.693841,-1.211075 2.094386,-1.578296 3.736473,-3.425615 4.923737,-9.0257749 5.594341,-10.4219653 0.265528,-0.5528262 -1.495995,5.7444153 -2.301389,7.9618353 -0.782291,2.153816 -1.128296,3.205243 -1.957288,5.390145 -0.349183,0.920311 3.98981,-11.1872043 4.388358,-11.8830045 1.615122,-2.8197462 4.39221,-1.2734099 4.972456,-0.1650454 0.978066,1.8682657 0.05232,3.8576977 -2.784992,4.9035069 -2.362187,0.870682 -3.983853,0.117256 -3.983853,0.117256 0,0 2.581376,3.124923 5.021689,3.665755 2.291601,0.42906 4.357549,-1.103651 4.357549,-1.103651 C 63.892772,12.383093 62.46,10.41 60.205,11.835 c -1.945186,1.224906 -2.755758,3.272343 -2.892968,3.826726 -0.124146,0.501602 -0.111191,2.037478 1.54153,2.227948 2.04162,0.111432 4.513701,-2.775962 4.513701,-2.775962 0,0 4.647737,-4.958712 5.277737,-3.593712 0.63,1.365 -0.540801,2.233384 -0.540801,2.233384 0,0 1.115801,-0.923384 0.590801,-2.103384 -0.525,-1.18 -3.084672,1.733873 -3.084672,1.733873 0,0 -1.540328,1.886127 -1.595328,3.251127 -0.055,1.365 1.110645,1.450172 1.110645,1.450172 0,0 0.958554,0.212405 2.548554,-0.957595 1.703524,-0.977804 6.802617,-5.715699 9.249174,-9.0820334 1.537435,-2.1154314 1.863927,-3.9720192 1.272284,-3.9136184 -0.898615,0.088702 -2.710988,4.1269252 -2.710988,4.1269252 -1.179032,3.3371616 -2.860922,6.6056956 -4.451289,9.8032386 -0.310401,0.624082 1.519346,-3.358811 2.986466,-4.891785 1.753551,-1.832264 3.474287,-2.385112 3.272743,-1.10273 -0.19932,1.268239 -0.853471,1.82063 -1.707604,3.829421 -0.967404,2.561576 8.885481,2.175968 12.243993,2.152128"
            fill="none" stroke="#d1d5dc" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1"/>
          <path class="boop" opacity="0" d="M 2.6205854,4.4847661 C 7.7273559,4.3918411 12.131664,5.080816 14.14033,5.4892624 c 2.275071,0.4626177 4.235886,0.2300601 4.468473,0.04635 0.851338,-0.6724307 -3.46125,-1.901661 -5.193034,0.1681242 -1.449791,1.7327544 -0.381085,4.1359419 1.03433,4.7350364 1.606256,0.679869 3.248243,0.01454 2.705575,-0.7540731 -0.259378,-0.3673735 -1.235772,-0.7465778 -2.880931,-0.4009664 -1.97456,0.4148154 -3.856752,2.7559555 -3.891468,4.9328185 -0.03979,2.494815 1.905776,4.043345 4.270506,3.553772 2.090343,-0.432766 3.717159,-1.954066 4.330623,-2.763227 1.375413,-1.814173 3.340059,-3.240673 4.326092,-3.599265 1.100245,-0.400127 1.542853,-0.211949 1.307942,-0.23444 -0.986376,-0.09444 -2.298566,0.60492 -3.228566,1.52492 -0.93,0.915 -1.433872,2.791696 -1.433872,2.791696 0,0 -0.455,1.85 0.357,2.435 0.814,0.58 1.851513,-0.747897 1.851513,-0.747897 0,0 0.694101,-0.804847 1.373103,-1.969847 C 30.910647,4.0473 28.537233,4.3688719 28.537233,4.3688719 27.559808,4.4757845 26.562385,7.066379 25.445171,10.061382 c -0.61492,1.648463 -1.216816,3.610607 -1.450995,4.540314 -0.102984,0.35572 -0.392254,1.291127 -0.217254,2.596127 0.175,1.305 0.975078,1.127177 0.975078,1.127177 0,0 0.716127,0.118545 2.776127,-4.061455 2.059,-4.18 4.152873,-3.408545 4.152873,-3.408545 0,0 0.755657,0.202582 0.643567,1.218579 -0.193772,0.564354 -0.255147,0.831479 -0.175673,0.528217 l 0.197544,-0.696456 c 0,0 0.02802,-0.914213 -0.747441,-1.07534 -0.635332,-0.172548 -1.867297,0.210821 -3.041168,1.74941 -0.152742,0.200198 -0.3045,0.419954 -0.453832,0.66059 C 26.808959,15.326839 26,18 27,18 c 1,0 2,-1 2,-1 0.496,-0.38 3,-4 3,-4 l -3.904694,8.936128 c -0.782971,1.577956 -1.210142,2.199368 -2.135963,2.252279 -1.673884,-0.234357 -0.663975,-2.274718 0.23128,-3.111323 1.854782,-1.733273 0.86463,-0.605768 3.681633,-3.476283 0.77116,-0.77116 2.717055,-3.456699 5.197035,-5.604662 0.735929,-0.637403 1.081929,-0.867798 1.483606,-1.060011 2.339251,-1.1193955 2.019687,1.368559 2.019687,1.368559 0,0 0.0837,-0.36287 -0.166967,-1.01877 -0.08349,-0.218473 -0.305764,-0.767725 -0.913199,-0.618522 -0.802043,0.197005 -2.199202,1.628896 -2.199202,1.628896 0,0 -0.837923,0.891282 -1.441216,2.198709 -0.493064,1.068545 -0.797648,2.051776 -0.730648,2.561776 0.063,0.51 0.292645,0.943452 0.773552,1.058384 1.155398,0.276128 2.375007,-1.651295 2.375007,-1.651295 0,0 2.00789,-3.38806 2.175801,-3.731769 0.157685,-0.322778 -0.565321,0.97984 -1.09,2.312904 -0.700328,1.540648 -0.621652,2.323463 -0.266787,2.730156 0.523649,0.600129 1.301805,0.491727 1.93434,-0.395023 0.511778,-0.717461 1.17583,-1.514995 2.235069,-4.51977 0.601871,-1.707345 0.357034,-2.56429 -0.504247,-2.062081 -1.69519,0.988456 1.540576,1.787434 2.953079,1.355872 2.145824,-0.655612 -0.64868,4.497823 -0.64868,4.497823 -0.946501,1.795559 2.009349,0.920941 3.955417,-0.220264 1.033984,-0.606345 1.693841,-1.211075 2.094386,-1.578296 3.736473,-3.425615 4.923737,-9.0257749 5.594341,-10.4219653 0.265528,-0.5528262 -1.495995,5.7444153 -2.301389,7.9618353 -0.782291,2.153816 -1.128296,3.205243 -1.957288,5.390145 -0.349183,0.920311 3.98981,-11.1872043 4.388358,-11.8830045 1.615122,-2.8197462 4.39221,-1.2734099 4.972456,-0.1650454 0.978066,1.8682657 0.05232,3.8576977 -2.784992,4.9035069 -2.362187,0.870682 -3.983853,0.117256 -3.983853,0.117256 0,0 2.581376,3.124923 5.021689,3.665755 2.291601,0.42906 4.357549,-1.103651 4.357549,-1.103651 C 63.892772,12.383093 62.46,10.41 60.205,11.835 c -1.945186,1.224906 -2.755758,3.272343 -2.892968,3.826726 -0.124146,0.501602 -0.111191,2.037478 1.54153,2.227948 2.04162,0.111432 4.513701,-2.775962 4.513701,-2.775962 0,0 4.647737,-4.958712 5.277737,-3.593712 0.63,1.365 -0.540801,2.233384 -0.540801,2.233384 0,0 1.115801,-0.923384 0.590801,-2.103384 -0.525,-1.18 -3.084672,1.733873 -3.084672,1.733873 0,0 -1.540328,1.886127 -1.595328,3.251127 -0.055,1.365 1.110645,1.450172 1.110645,1.450172 0,0 0.958554,0.212405 2.548554,-0.957595 1.703524,-0.977804 6.802617,-5.715699 9.249174,-9.0820334 1.537435,-2.1154314 1.863927,-3.9720192 1.272284,-3.9136184 -0.898615,0.088702 -2.710988,4.1269252 -2.710988,4.1269252 -1.179032,3.3371616 -2.860922,6.6056956 -4.451289,9.8032386 -0.310401,0.624082 1.519346,-3.358811 2.986466,-4.891785 1.753551,-1.832264 3.474287,-2.385112 3.272743,-1.10273 -0.19932,1.268239 -0.853471,1.82063 -1.707604,3.829421 -0.967404,2.561576 8.885481,2.175968 12.243993,2.152128"
            fill="none" stroke="#7d7f8e" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1" align="center"/>
          <path class="boop2" opacity="0" d="M 2.6205854,4.4847661 C 7.7273559,4.3918411 12.131664,5.080816 14.14033,5.4892624 c 2.275071,0.4626177 4.235886,0.2300601 4.468473,0.04635 0.851338,-0.6724307 -3.46125,-1.901661 -5.193034,0.1681242 -1.449791,1.7327544 -0.381085,4.1359419 1.03433,4.7350364 1.606256,0.679869 3.248243,0.01454 2.705575,-0.7540731 -0.259378,-0.3673735 -1.235772,-0.7465778 -2.880931,-0.4009664 -1.97456,0.4148154 -3.856752,2.7559555 -3.891468,4.9328185 -0.03979,2.494815 1.905776,4.043345 4.270506,3.553772 2.090343,-0.432766 3.717159,-1.954066 4.330623,-2.763227 1.375413,-1.814173 3.340059,-3.240673 4.326092,-3.599265 1.100245,-0.400127 1.542853,-0.211949 1.307942,-0.23444 -0.986376,-0.09444 -2.298566,0.60492 -3.228566,1.52492 -0.93,0.915 -1.433872,2.791696 -1.433872,2.791696 0,0 -0.455,1.85 0.357,2.435 0.814,0.58 1.851513,-0.747897 1.851513,-0.747897 0,0 0.694101,-0.804847 1.373103,-1.969847 C 30.910647,4.0473 28.537233,4.3688719 28.537233,4.3688719 27.559808,4.4757845 26.562385,7.066379 25.445171,10.061382 c -0.61492,1.648463 -1.216816,3.610607 -1.450995,4.540314 -0.102984,0.35572 -0.392254,1.291127 -0.217254,2.596127 0.175,1.305 0.975078,1.127177 0.975078,1.127177 0,0 0.716127,0.118545 2.776127,-4.061455 2.059,-4.18 4.152873,-3.408545 4.152873,-3.408545 0,0 0.755657,0.202582 0.643567,1.218579 -0.193772,0.564354 -0.255147,0.831479 -0.175673,0.528217 l 0.197544,-0.696456 c 0,0 0.02802,-0.914213 -0.747441,-1.07534 -0.635332,-0.172548 -1.867297,0.210821 -3.041168,1.74941 -0.152742,0.200198 -0.3045,0.419954 -0.453832,0.66059 C 26.808959,15.326839 26,18 27,18 c 1,0 2,-1 2,-1 0.496,-0.38 3,-4 3,-4 l -3.904694,8.936128 c -0.782971,1.577956 -1.210142,2.199368 -2.135963,2.252279 -1.673884,-0.234357 -0.663975,-2.274718 0.23128,-3.111323 1.854782,-1.733273 0.86463,-0.605768 3.681633,-3.476283 0.77116,-0.77116 2.717055,-3.456699 5.197035,-5.604662 0.735929,-0.637403 1.081929,-0.867798 1.483606,-1.060011 2.339251,-1.1193955 2.019687,1.368559 2.019687,1.368559 0,0 0.0837,-0.36287 -0.166967,-1.01877 -0.08349,-0.218473 -0.305764,-0.767725 -0.913199,-0.618522 -0.802043,0.197005 -2.199202,1.628896 -2.199202,1.628896 0,0 -0.837923,0.891282 -1.441216,2.198709 -0.493064,1.068545 -0.797648,2.051776 -0.730648,2.561776 0.063,0.51 0.292645,0.943452 0.773552,1.058384 1.155398,0.276128 2.375007,-1.651295 2.375007,-1.651295 0,0 2.00789,-3.38806 2.175801,-3.731769 0.157685,-0.322778 -0.565321,0.97984 -1.09,2.312904 -0.700328,1.540648 -0.621652,2.323463 -0.266787,2.730156 0.523649,0.600129 1.301805,0.491727 1.93434,-0.395023 0.511778,-0.717461 1.17583,-1.514995 2.235069,-4.51977 0.601871,-1.707345 0.357034,-2.56429 -0.504247,-2.062081 -1.69519,0.988456 1.540576,1.787434 2.953079,1.355872 2.145824,-0.655612 -0.64868,4.497823 -0.64868,4.497823 -0.946501,1.795559 2.009349,0.920941 3.955417,-0.220264 1.033984,-0.606345 1.693841,-1.211075 2.094386,-1.578296 3.736473,-3.425615 4.923737,-9.0257749 5.594341,-10.4219653 0.265528,-0.5528262 -1.495995,5.7444153 -2.301389,7.9618353 -0.782291,2.153816 -1.128296,3.205243 -1.957288,5.390145 -0.349183,0.920311 3.98981,-11.1872043 4.388358,-11.8830045 1.615122,-2.8197462 4.39221,-1.2734099 4.972456,-0.1650454 0.978066,1.8682657 0.05232,3.8576977 -2.784992,4.9035069 -2.362187,0.870682 -3.983853,0.117256 -3.983853,0.117256 0,0 2.581376,3.124923 5.021689,3.665755 2.291601,0.42906 4.357549,-1.103651 4.357549,-1.103651 C 63.892772,12.383093 62.46,10.41 60.205,11.835 c -1.945186,1.224906 -2.755758,3.272343 -2.892968,3.826726 -0.124146,0.501602 -0.111191,2.037478 1.54153,2.227948 2.04162,0.111432 4.513701,-2.775962 4.513701,-2.775962 0,0 4.647737,-4.958712 5.277737,-3.593712 0.63,1.365 -0.540801,2.233384 -0.540801,2.233384 0,0 1.115801,-0.923384 0.590801,-2.103384 -0.525,-1.18 -3.084672,1.733873 -3.084672,1.733873 0,0 -1.540328,1.886127 -1.595328,3.251127 -0.055,1.365 1.110645,1.450172 1.110645,1.450172 0,0 0.958554,0.212405 2.548554,-0.957595 1.703524,-0.977804 6.802617,-5.715699 9.249174,-9.0820334 1.537435,-2.1154314 1.863927,-3.9720192 1.272284,-3.9136184 -0.898615,0.088702 -2.710988,4.1269252 -2.710988,4.1269252 -1.179032,3.3371616 -2.860922,6.6056956 -4.451289,9.8032386 -0.310401,0.624082 1.519346,-3.358811 2.986466,-4.891785 1.753551,-1.832264 3.474287,-2.385112 3.272743,-1.10273 -0.19932,1.268239 -0.853471,1.82063 -1.707604,3.829421 -0.967404,2.561576 8.885481,2.175968 12.243993,2.152128"
            fill="none" stroke="#7d7f8e" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1"/>   
          <circle class="ball" cx="6.69" cy="18.055" r="0.55" fill="#000000"/>  
        </svg>
      </div>

    <p 
        class="text-base mb-8 text-gray-300 text-container w-full max-w-md mx-auto"
        data-aos="fade-right"
        data-aos-delay="200"
      >
        Experto en desarrollo web Backend y Frontend.
      </p>
    
  </main>
  </div>
  
</template>

<style scoped>

.svg-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
      }
      svg {
        max-width: 100%;
        max-height: 100%;
      }

.text-container {
  max-width: 80%; /* Ajusta el ancho máximo */
  overflow: hidden; /* Evita el desbordamiento */
  text-align: center; /* Centra el texto */
}
</style>

