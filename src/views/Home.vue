<script setup>
import { onMounted, nextTick, onUnmounted } from 'vue';
import { gsap } from 'gsap';
import { Power4, Back, Elastic } from 'gsap/gsap-core';
import { MotionPathPlugin } from 'gsap/MotionPathPlugin';
import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin';
import { ScrambleTextPlugin } from 'gsap/ScrambleTextPlugin';

gsap.registerPlugin(MotionPathPlugin, DrawSVGPlugin);
gsap.registerPlugin(ScrambleTextPlugin);

let blurbs = [
  "Experto en desarrollo web Backend y Frontend.",
  "Soluciones tecnológicas innovadoras y escalables.",
  "Enfoque en aprendizaje continuo y excelencia.",
],
curIndex = 0;
let intervalId = null;

const particlesLoaded = container => {};

// Función para cambiar el texto automáticamente
function changeTextAutomatically() {
  curIndex = (curIndex + 1) % blurbs.length;
  gsap.to(".text-container", {
    scrambleText: {
      text: blurbs[curIndex],
      chars: "upperAndLowerCase",
      revealDelay: 0.2,
      tweenLength: false
    },
    ease: "power2.inOut",
    overwrite: "auto",
    duration: 4.2
  });
}

onMounted(() => {
  nextTick(() => {
    // Configuración inicial para el texto
    gsap.set(".text-container", { autoAlpha: 1 });
    
    // Iniciar el cambio automático cada 5 segundos
    intervalId = setInterval(changeTextAutomatically, 6000);

    // Ensure the DOM is fully rendered before initializing GSAP
    gsap.set(".boop", { drawSVG: "0% 0.75%", autoAlpha: 1, immediateRender: true });
    gsap.set(".boop2", { drawSVG: "99.1% 100%", autoAlpha: 1, immediateRender: true });

    gsap.set(".ball", {
      xPercent: -50,
      yPercent: -50,
      transformOrigin: "50%, 50%",
    });

    function restart() {
      timeline.play(0);
    }

    const startBall = 0.01;
    const endBall = 0.989;

    var timeline = gsap.timeline();
    timeline
      .to(".boop", {
        duration: 1,
        ease: Power4.easeOut,
        drawSVG: "0% 0.1%",
      })
      .to(
        ".boop",
        {
          duration: 0.6,
          ease: Back.easeOut.config(8),
          drawSVG: "0% 0.75%",
        },
        "+=0.2"
      )
      .to(
        ".ball",
        {
          duration: 15,
          ease: "power1.inOut",
          immediateRender: true,
          ease: Elastic.easeOut.config(1, 1.2),
          motionPath: {
            path: document.querySelector(".loop"),
            align: document.querySelector(".loop"),
            start: startBall,
            end: endBall,
          },
        },
        1.3
      )
      .to(
        ".boop2",
        {
          duration: 1,
          ease: Power4.easeOut,
          drawSVG: "99.9% 100%",
        },
        6.4
      )
      .to(
        ".boop2",
        {
          duration: 0.6,
          ease: Back.easeOut.config(8),
          drawSVG: "99.1% 100%",
          delay: 0.16,
        },
        7.1
      )
      .to(
        ".ball",
        {
          duration: 15,
          ease: Elastic.easeOut.config(1, 1.2),
          motionPath: {
            path: document.querySelector(".loop"),
            align: document.querySelector(".loop"),
            start: endBall,
            end: startBall,
          },
        },
        7.3
      )
      .add(restart, 12.2);
  });
});

// Limpiar el intervalo cuando el componente se desmonta
onUnmounted(() => {
  if (intervalId) {
    clearInterval(intervalId);
  }
});
</script>

<template>
  <div>
    <vue-particles id="tsparticles" @particles-loaded="particlesLoaded" url="/particles.json" />
    <main class="min-h-screen flex flex-col justify-center items-center pt-16 bg-white">
      <div class="svg-container flex justify-center items-center w-full">
      <svg viewBox="0 0 90.75 27.665" xmlns="http://www.w3.org/2000/svg" class="flex mx-10 z-10">
          <path class="loop" d="M 1.688,18 c 6.1933913,0 8.396687,-0.483283 9.877492,-1.082418 0.628851,-0.254433 1.222803,-0.57393 1.506364,-0.757903 C 14.666458,15.244439 16.409,14.265 17.064,13.36 c 0.654,-0.903 0.745,-1.85 0.316,-2.12 -0.429,-0.27 -1.353239,0.04398 -1.65938,0.234977 -0.132264,0.08252 -1.421383,0.815594 -2.20162,2.437747 -0.850553,1.768343 -0.583816,3.067285 -0.198144,3.514132 0.126439,0.146495 0.504609,0.60169 1.441144,0.558144 1.023817,-0.0476 2.822,-1.42 3.974,-2.865 1.15,-1.445 3.588463,-3.353584 4.574496,-3.712176 1.100245,-0.400127 1.542853,-0.211949 1.307942,-0.23444 -0.986376,-0.09444 -2.298566,0.60492 -3.228566,1.52492 -0.93,0.915 -1.433872,2.791696 -1.433872,2.791696 0,0 -0.455,1.85 0.357,2.435 0.814,0.58 1.851513,-0.747897 1.851513,-0.747897 0,0 0.694101,-0.804847 1.373103,-1.969847 C 30.910647,4.0473 28.537233,4.3688719 28.537233,4.3688719 27.559808,4.4757845 26.562385,7.066379 25.445171,10.061382 c -0.61492,1.648463 -1.216816,3.610607 -1.450995,4.540314 -0.102984,0.35572 -0.392254,1.291127 -0.217254,2.596127 0.175,1.305 0.975078,1.127177 0.975078,1.127177 0,0 0.716127,0.118545 2.776127,-4.061455 2.059,-4.18 4.152873,-3.408545 4.152873,-3.408545 0,0 0.755657,0.202582 0.643567,1.218579 -0.193772,0.564354 -0.198692,0.673404 -0.119218,0.370142 l 0.141089,-0.538381 c 0,0 0.02802,-0.914213 -0.747441,-1.07534 -0.635332,-0.172548 -1.867297,0.210821 -3.041168,1.74941 -0.152742,0.200198 -0.3045,0.419954 -0.453832,0.66059 C 26.808959,15.326839 26,18 27,18 c 1,0 2,-1 2,-1 0.496,-0.38 3,-4 3,-4 l -3.904694,8.936128 c -0.782971,1.577956 -1.210142,2.199368 -2.135963,2.252279 -1.673884,-0.234357 -0.663975,-2.274718 0.23128,-3.111323 1.854782,-1.733273 0.86463,-0.605768 3.681633,-3.476283 0.77116,-0.77116 2.717055,-3.456699 5.197035,-5.604662 0.735929,-0.637403 1.081929,-0.867798 1.483606,-1.060011 2.339251,-1.1193955 2.003719,1.152991 2.003719,1.152991 0,0 0.111647,-0.657825 -0.166967,-1.01877 -0.131537,-0.170407 -0.289796,-0.552157 -0.897231,-0.402954 -0.802043,0.197005 -2.199202,1.628896 -2.199202,1.628896 0,0 -0.837923,0.891282 -1.441216,2.198709 -0.493064,1.068545 -0.797648,2.051776 -0.730648,2.561776 0.063,0.51 0.292645,0.943452 0.773552,1.058384 1.155398,0.276128 2.375007,-1.651295 2.375007,-1.651295 0,0 2.00789,-3.38806 2.175801,-3.731769 0.157685,-0.322778 -0.565321,0.97984 -1.09,2.312904 -0.700328,1.540648 -0.621652,2.323463 -0.266787,2.730156 0.523649,0.600129 1.301805,0.491727 1.93434,-0.395023 0.511778,-0.717461 0.927427,-1.740816 1.986666,-4.745591 0.601871,-1.707345 0.524698,-2.36469 -0.24876,-2.006193 -0.404669,0.417918 0.397391,1.063296 0.616804,1.162636 0.568429,0.257359 0.944385,0.721438 2.249351,0.522849 1.698721,0.03101 -0.346535,4.151768 -0.346535,4.151768 -0.819094,2.069008 3.319251,0.14727 4.034947,-0.303461 2.045161,-1.123925 5.31928,-3.263459 6.099711,-4.888308 0.315359,-0.656573 -1.422085,3.071375 -1.422085,3.071375 -0.54968,1.312278 -0.543601,1.337535 -1.88045,4.069152 -0.444005,1.079432 -1.663618,3.64422 -2.88402,4.905776 -2.057912,2.12731 -0.952803,-0.842594 -0.285085,-1.946662 l 1.484333,-2.436297 1.406377,-2.133326 c 0,0 3.121184,-4.695211 3.936184,-5.195211 0.990657,-0.833732 2.440981,-0.293279 2.646747,0.223914 0.21484,0.54 0.453287,0.935742 -0.500808,2.62036 -0.585309,1.033463 -1.235811,1.704988 -2.158729,2.343043 -0.826931,0.571695 -3.107946,0.968389 -3.107946,0.968389 0,0 3.415033,0.02566 6.510033,-1.509343 3.09,-1.535 4.776121,-2.968694 4.776121,-2.968694 C 63.190181,12.031798 62.46,10.41 60.205,11.835 c -2.255,1.42 -2.945634,3.961127 -2.945634,3.961127 0,0 -0.498879,1.711129 1.436121,2.116129 1.94,0.405 4.671776,-2.798544 4.671776,-2.798544 0,0 4.647737,-4.958712 5.277737,-3.593712 0.63,1.365 -0.94,2.425 -0.94,2.425 0,0 1.515,-1.115 0.99,-2.295 -0.525,-1.18 -3.084672,1.733873 -3.084672,1.733873 0,0 -1.540328,1.886127 -1.595328,3.251127 -0.055,1.365 1.110645,1.450172 1.110645,1.450172 0,0 0.958554,0.212405 2.548554,-0.957595 1.703524,-0.977804 6.802617,-5.715699 9.249174,-9.0820334 1.537435,-2.1154314 1.863927,-3.9720192 1.272284,-3.9136184 -0.898615,0.088702 -2.710988,4.1269252 -2.710988,4.1269252 -1.179032,3.3371616 -2.860922,6.6056956 -4.451289,9.8032386 -0.310401,0.624082 1.519346,-3.358811 2.986466,-4.891785 1.753551,-1.832264 3.474287,-2.385112 3.272743,-1.10273 -0.19932,1.268239 -1.059887,2.058802 -1.91402,4.067593 C 74.591063,17.987259 76.4,18.1 77.95,18.17 c 0.225,0.01 11.385,-0.09 11.57,-0.105"
            fill="none" stroke="#d1d5dc" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1"/>
          <path class="boop" opacity="0" d="M 1.688,18 c 6.1933913,0 8.396687,-0.483283 9.877492,-1.082418 0.628851,-0.254433 1.222803,-0.57393 1.506364,-0.757903 C 14.666458,15.244439 16.409,14.265 17.064,13.36 c 0.654,-0.903 0.745,-1.85 0.316,-2.12 -0.429,-0.27 -1.353239,0.04398 -1.65938,0.234977 -0.132264,0.08252 -1.421383,0.815594 -2.20162,2.437747 -0.850553,1.768343 -0.583816,3.067285 -0.198144,3.514132 0.126439,0.146495 0.504609,0.60169 1.441144,0.558144 1.023817,-0.0476 2.822,-1.42 3.974,-2.865 1.15,-1.445 3.588463,-3.353584 4.574496,-3.712176 1.100245,-0.400127 1.542853,-0.211949 1.307942,-0.23444 -0.986376,-0.09444 -2.298566,0.60492 -3.228566,1.52492 -0.93,0.915 -1.433872,2.791696 -1.433872,2.791696 0,0 -0.455,1.85 0.357,2.435 0.814,0.58 1.851513,-0.747897 1.851513,-0.747897 0,0 0.694101,-0.804847 1.373103,-1.969847 C 30.910647,4.0473 28.537233,4.3688719 28.537233,4.3688719 27.559808,4.4757845 26.562385,7.066379 25.445171,10.061382 c -0.61492,1.648463 -1.216816,3.610607 -1.450995,4.540314 -0.102984,0.35572 -0.392254,1.291127 -0.217254,2.596127 0.175,1.305 0.975078,1.127177 0.975078,1.127177 0,0 0.716127,0.118545 2.776127,-4.061455 2.059,-4.18 4.152873,-3.408545 4.152873,-3.408545 0,0 0.755657,0.202582 0.643567,1.218579 -0.193772,0.564354 -0.198692,0.673404 -0.119218,0.370142 l 0.141089,-0.538381 c 0,0 0.02802,-0.914213 -0.747441,-1.07534 -0.635332,-0.172548 -1.867297,0.210821 -3.041168,1.74941 -0.152742,0.200198 -0.3045,0.419954 -0.453832,0.66059 C 26.808959,15.326839 26,18 27,18 c 1,0 2,-1 2,-1 0.496,-0.38 3,-4 3,-4 l -3.904694,8.936128 c -0.782971,1.577956 -1.210142,2.199368 -2.135963,2.252279 -1.673884,-0.234357 -0.663975,-2.274718 0.23128,-3.111323 1.854782,-1.733273 0.86463,-0.605768 3.681633,-3.476283 0.77116,-0.77116 2.717055,-3.456699 5.197035,-5.604662 0.735929,-0.637403 1.081929,-0.867798 1.483606,-1.060011 2.339251,-1.1193955 2.003719,1.152991 2.003719,1.152991 0,0 0.111647,-0.657825 -0.166967,-1.01877 -0.131537,-0.170407 -0.289796,-0.552157 -0.897231,-0.402954 -0.802043,0.197005 -2.199202,1.628896 -2.199202,1.628896 0,0 -0.837923,0.891282 -1.441216,2.198709 -0.493064,1.068545 -0.797648,2.051776 -0.730648,2.561776 0.063,0.51 0.292645,0.943452 0.773552,1.058384 1.155398,0.276128 2.375007,-1.651295 2.375007,-1.651295 0,0 2.00789,-3.38806 2.175801,-3.731769 0.157685,-0.322778 -0.565321,0.97984 -1.09,2.312904 -0.700328,1.540648 -0.621652,2.323463 -0.266787,2.730156 0.523649,0.600129 1.301805,0.491727 1.93434,-0.395023 0.511778,-0.717461 0.927427,-1.740816 1.986666,-4.745591 0.601871,-1.707345 0.524698,-2.36469 -0.24876,-2.006193 -0.404669,0.417918 0.397391,1.063296 0.616804,1.162636 0.568429,0.257359 0.944385,0.721438 2.249351,0.522849 1.698721,0.03101 -0.346535,4.151768 -0.346535,4.151768 -0.819094,2.069008 3.319251,0.14727 4.034947,-0.303461 2.045161,-1.123925 5.31928,-3.263459 6.099711,-4.888308 0.315359,-0.656573 -1.422085,3.071375 -1.422085,3.071375 -0.54968,1.312278 -0.543601,1.337535 -1.88045,4.069152 -0.444005,1.079432 -1.663618,3.64422 -2.88402,4.905776 -2.057912,2.12731 -0.952803,-0.842594 -0.285085,-1.946662 l 1.484333,-2.436297 1.406377,-2.133326 c 0,0 3.121184,-4.695211 3.936184,-5.195211 0.990657,-0.833732 2.440981,-0.293279 2.646747,0.223914 0.21484,0.54 0.453287,0.935742 -0.500808,2.62036 -0.585309,1.033463 -1.235811,1.704988 -2.158729,2.343043 -0.826931,0.571695 -3.107946,0.968389 -3.107946,0.968389 0,0 3.415033,0.02566 6.510033,-1.509343 3.09,-1.535 4.776121,-2.968694 4.776121,-2.968694 C 63.190181,12.031798 62.46,10.41 60.205,11.835 c -2.255,1.42 -2.945634,3.961127 -2.945634,3.961127 0,0 -0.498879,1.711129 1.436121,2.116129 1.94,0.405 4.671776,-2.798544 4.671776,-2.798544 0,0 4.647737,-4.958712 5.277737,-3.593712 0.63,1.365 -0.94,2.425 -0.94,2.425 0,0 1.515,-1.115 0.99,-2.295 -0.525,-1.18 -3.084672,1.733873 -3.084672,1.733873 0,0 -1.540328,1.886127 -1.595328,3.251127 -0.055,1.365 1.110645,1.450172 1.110645,1.450172 0,0 0.958554,0.212405 2.548554,-0.957595 1.703524,-0.977804 6.802617,-5.715699 9.249174,-9.0820334 1.537435,-2.1154314 1.863927,-3.9720192 1.272284,-3.9136184 -0.898615,0.088702 -2.710988,4.1269252 -2.710988,4.1269252 -1.179032,3.3371616 -2.860922,6.6056956 -4.451289,9.8032386 -0.310401,0.624082 1.519346,-3.358811 2.986466,-4.891785 1.753551,-1.832264 3.474287,-2.385112 3.272743,-1.10273 -0.19932,1.268239 -1.059887,2.058802 -1.91402,4.067593 C 74.591063,17.987259 76.4,18.1 77.95,18.17 c 0.225,0.01 11.385,-0.09 11.57,-0.105"
            fill="none" stroke="#7d7f8e" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1" align="center"/>
            <path class="boop2" opacity="0" d="M 1.688,18 c 6.1933913,0 8.396687,-0.483283 9.877492,-1.082418 0.628851,-0.254433 1.222803,-0.57393 1.506364,-0.757903 C 14.666458,15.244439 16.409,14.265 17.064,13.36 c 0.654,-0.903 0.745,-1.85 0.316,-2.12 -0.429,-0.27 -1.353239,0.04398 -1.65938,0.234977 -0.132264,0.08252 -1.421383,0.815594 -2.20162,2.437747 -0.850553,1.768343 -0.583816,3.067285 -0.198144,3.514132 0.126439,0.146495 0.504609,0.60169 1.441144,0.558144 1.023817,-0.0476 2.822,-1.42 3.974,-2.865 1.15,-1.445 3.588463,-3.353584 4.574496,-3.712176 1.100245,-0.400127 1.542853,-0.211949 1.307942,-0.23444 -0.986376,-0.09444 -2.298566,0.60492 -3.228566,1.52492 -0.93,0.915 -1.433872,2.791696 -1.433872,2.791696 0,0 -0.455,1.85 0.357,2.435 0.814,0.58 1.851513,-0.747897 1.851513,-0.747897 0,0 0.694101,-0.804847 1.373103,-1.969847 C 30.910647,4.0473 28.537233,4.3688719 28.537233,4.3688719 27.559808,4.4757845 26.562385,7.066379 25.445171,10.061382 c -0.61492,1.648463 -1.216816,3.610607 -1.450995,4.540314 -0.102984,0.35572 -0.392254,1.291127 -0.217254,2.596127 0.175,1.305 0.975078,1.127177 0.975078,1.127177 0,0 0.716127,0.118545 2.776127,-4.061455 2.059,-4.18 4.152873,-3.408545 4.152873,-3.408545 0,0 0.755657,0.202582 0.643567,1.218579 -0.193772,0.564354 -0.198692,0.673404 -0.119218,0.370142 l 0.141089,-0.538381 c 0,0 0.02802,-0.914213 -0.747441,-1.07534 -0.635332,-0.172548 -1.867297,0.210821 -3.041168,1.74941 -0.152742,0.200198 -0.3045,0.419954 -0.453832,0.66059 C 26.808959,15.326839 26,18 27,18 c 1,0 2,-1 2,-1 0.496,-0.38 3,-4 3,-4 l -3.904694,8.936128 c -0.782971,1.577956 -1.210142,2.199368 -2.135963,2.252279 -1.673884,-0.234357 -0.663975,-2.274718 0.23128,-3.111323 1.854782,-1.733273 0.86463,-0.605768 3.681633,-3.476283 0.77116,-0.77116 2.717055,-3.456699 5.197035,-5.604662 0.735929,-0.637403 1.081929,-0.867798 1.483606,-1.060011 2.339251,-1.1193955 2.003719,1.152991 2.003719,1.152991 0,0 0.111647,-0.657825 -0.166967,-1.01877 -0.131537,-0.170407 -0.289796,-0.552157 -0.897231,-0.402954 -0.802043,0.197005 -2.199202,1.628896 -2.199202,1.628896 0,0 -0.837923,0.891282 -1.441216,2.198709 -0.493064,1.068545 -0.797648,2.051776 -0.730648,2.561776 0.063,0.51 0.292645,0.943452 0.773552,1.058384 1.155398,0.276128 2.375007,-1.651295 2.375007,-1.651295 0,0 2.00789,-3.38806 2.175801,-3.731769 0.157685,-0.322778 -0.565321,0.97984 -1.09,2.312904 -0.700328,1.540648 -0.621652,2.323463 -0.266787,2.730156 0.523649,0.600129 1.301805,0.491727 1.93434,-0.395023 0.511778,-0.717461 0.927427,-1.740816 1.986666,-4.745591 0.601871,-1.707345 0.524698,-2.36469 -0.24876,-2.006193 -0.404669,0.417918 0.397391,1.063296 0.616804,1.162636 0.568429,0.257359 0.944385,0.721438 2.249351,0.522849 1.698721,0.03101 -0.346535,4.151768 -0.346535,4.151768 -0.819094,2.069008 3.319251,0.14727 4.034947,-0.303461 2.045161,-1.123925 5.31928,-3.263459 6.099711,-4.888308 0.315359,-0.656573 -1.422085,3.071375 -1.422085,3.071375 -0.54968,1.312278 -0.543601,1.337535 -1.88045,4.069152 -0.444005,1.079432 -1.663618,3.64422 -2.88402,4.905776 -2.057912,2.12731 -0.952803,-0.842594 -0.285085,-1.946662 l 1.484333,-2.436297 1.406377,-2.133326 c 0,0 3.121184,-4.695211 3.936184,-5.195211 0.990657,-0.833732 2.440981,-0.293279 2.646747,0.223914 0.21484,0.54 0.453287,0.935742 -0.500808,2.62036 -0.585309,1.033463 -1.235811,1.704988 -2.158729,2.343043 -0.826931,0.571695 -3.107946,0.968389 -3.107946,0.968389 0,0 3.415033,0.02566 6.510033,-1.509343 3.09,-1.535 4.776121,-2.968694 4.776121,-2.968694 C 63.190181,12.031798 62.46,10.41 60.205,11.835 c -2.255,1.42 -2.945634,3.961127 -2.945634,3.961127 0,0 -0.498879,1.711129 1.436121,2.116129 1.94,0.405 4.671776,-2.798544 4.671776,-2.798544 0,0 4.647737,-4.958712 5.277737,-3.593712 0.63,1.365 -0.94,2.425 -0.94,2.425 0,0 1.515,-1.115 0.99,-2.295 -0.525,-1.18 -3.084672,1.733873 -3.084672,1.733873 0,0 -1.540328,1.886127 -1.595328,3.251127 -0.055,1.365 1.110645,1.450172 1.110645,1.450172 0,0 0.958554,0.212405 2.548554,-0.957595 1.703524,-0.977804 6.802617,-5.715699 9.249174,-9.0820334 1.537435,-2.1154314 1.863927,-3.9720192 1.272284,-3.9136184 -0.898615,0.088702 -2.710988,4.1269252 -2.710988,4.1269252 -1.179032,3.3371616 -2.860922,6.6056956 -4.451289,9.8032386 -0.310401,0.624082 1.519346,-3.358811 2.986466,-4.891785 1.753551,-1.832264 3.474287,-2.385112 3.272743,-1.10273 -0.19932,1.268239 -1.059887,2.058802 -1.91402,4.067593 C 74.591063,17.987259 76.4,18.1 77.95,18.17 c 0.225,0.01 11.385,-0.09 11.57,-0.105"
            fill="none" stroke="#7d7f8e" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1"/>   
          <circle class="ball" cx="6.69" cy="18.055" r="0.55" fill="#000000"/>  
        </svg>
      </div>

    <p 
        class="text-base mb-8 text-gray-300 text-container w-full max-w-md mx-auto"
        data-aos="fade-right"
        data-aos-delay="200"
      >
        Experto en desarrollo web Backend y Frontend.
      </p>
    
  </main>
  </div>
  
</template>

<style scoped>

.svg-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
      }
      svg {
        max-width: 100%;
        max-height: 100%;
      }

.text-container {
  max-width: 80%; /* Ajusta el ancho máximo */
  overflow: hidden; /* Evita el desbordamiento */
  text-align: center; /* Centra el texto */
}
</style>

